//- Template for create new event

extends ../layouts/base


block intro
    h1 create new event

block content
    .row
        if isCreated == false
            if errMsg
                h4= errMsg
            h3 Event Details
            form(name='event-details', method='post')
                input(type='hidden', name='action', value='create-event')
                .row: .input-field.col.s12
                    input(type='text', name='name')
                    label(for='name') Name
                .row: .input-field.col.s12
                    select(name='posterSize')
                        option(value='A0') A0
                        option(value='A1') A1
                    label Size of posters
                .row: .input-field.col.s12
                    textarea.materialize-textarea(name='categories')
                    label(for='categories') Categories
                .row: .input-field.col.s12
                    textarea.materialize-textarea(name='csv', rows='10', cols='50')
                    label(for='csv') CSV
                .row: .input-field.col.s12
                    input(type='checkbox', name='hasHeader')
                    label(for='hasHeader') My data has a header row
                .row: .input-field.col.s12
                    button.btn.waves-effect.waves-light(type='submit') Submit
                        i.material-icons.right send
        else
            h3 Event successfully created
            div
                if failedEmails
                    h4 Invalid Emails:
                    ul
                        for email in failedEmails
                            li= email
                if failedCategories
                    h4 Invalid Categories:
                    ul
                        for user in failedCategories
                            li #{user.email}: #{user.category}

block js
    script.
        $(document).ready(function() {
            $('select').material_select();
        });